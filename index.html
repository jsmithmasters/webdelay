<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Delay Coach — iOS Clean + Pop‑out</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <button id="toggleControlsBtn" style="position:fixed;right:12px;top:12px;z-index:10000">Hide Controls</button>
  <div class="app">
    <header class="topbar">
      <div class="brand">Delay Coach</div>
      <div id="status" class="status">idle</div>
    </header>

    <div class="layout">
      <main class="stage">
        <div class="canvas-wrap">
          <canvas id="screen"></canvas>
        </div>
        <video id="live" playsinline muted></video>
      </main>

      <aside class="controls" aria-label="controls">
        <div class="control-group">
          <button id="btnStart" class="btn primary">Start</button>
          <button id="btnStop" class="btn" disabled>Stop</button>
          <button id="btnPlayPause" class="btn" disabled>Pause</button>
          <button id="btnPopout" class="btn">Pop‑out</button>
        </div>

        <div class="control-group">
          <label class="slider">
            <span id="delayLabel">Delay: 12s</span>
            <input id="delayRange" type="range" min="2" max="20" step="1" value="12">
          </label>

          <label class="slider">
            <span id="fpsLabel">FPS: 20</span>
            <input id="fpsRange" type="range" min="10" max="30" step="1" value="20">
          </label>
        </div>

        <div class="readouts">
          <div>Buffer: <strong id="bufSec">0.0s</strong></div>
          <div>Lag: <strong id="lagSec">0.0s</strong></div>
          <div>Draw FPS: <strong id="drawFps">0</strong></div>
        </div>

        <div class="note">Replay/Save disabled on iOS for stability.</div>
      </aside>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
